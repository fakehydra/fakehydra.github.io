<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="瑾川"><link rel="alternative" href="/atom.xml" title="瑾川" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>每天一个Linux命令06 - 瑾川</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">瑾川</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-07-19T06:38:45.000Z">July 19, 2018</time><h1 class="post__title"><a href="/2018/07/19/每天一个Linux命令-06/">每天一个Linux命令06</a></h1><div class="post__main echo"><h3 id="滴滴滴滴"><a href="#滴滴滴滴" class="headerlink" title="滴滴滴滴"></a>滴滴滴滴</h3><a id="more"></a>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><pre><code>dd命令用于复制文件并对原文件的内容进行转换和格式化
处理。dd命令功能很强大的，对于一些比较底层的问题，
使用dd命令往往可以得到出人意料的效果。用的比较多的还是
用dd来备份裸设备。但是不推荐，如果需要备份oracle裸设备，
可以使用rman备份，或使用第三方软件备份，使用dd的话，管
理起来不太方便。
</code></pre><h4 id="建议"><a href="#建议" class="headerlink" title="建议"></a>建议</h4><pre><code>在有需要的时候使用dd 对物理磁盘操作，如果是文件系
的话还是使用tar backup cpio等其他命令更加方便。另
外，使用dd对磁盘操作时，最好使用块设备文件。
</code></pre><h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><pre><code>dd(选项)

选项

bs=&lt;字节数&gt;：            将ibs（输入）与欧巴桑（输出）设成指定的字节数；
cbs=&lt;字节数&gt;：           转换时，每次只转换指定的字节数；
conv=&lt;关键字&gt;：          指定文件转换的方式；
count=&lt;区块数&gt;：         仅读取指定的区块数；
ibs=&lt;字节数&gt;：           每次读取的字节数；
obs=&lt;字节数&gt;：           每次输出的字节数；
of=&lt;文件&gt;：              输出到文件；
seek=&lt;区块数&gt;：          一开始输出时，跳过指定的区块数；
skip=&lt;区块数&gt;：          一开始读取时，跳过指定的区块数；
--help：                 帮助；
--version：              显示版本信息。
</code></pre><h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><pre><code>[root@localhost text]# dd if=/dev/zero of=sun.txt bs=1M count=1
1+0 records in
1+0 records out
1048576 bytes (1.0 MB) copied, 0.006107 seconds, 172 MB/s

[root@localhost text]# du -sh sun.txt 
1.1M    sun.txt
</code></pre><h4 id="该命令创建了一个1M大小的文件sun-txt，其中参数解释："><a href="#该命令创建了一个1M大小的文件sun-txt，其中参数解释：" class="headerlink" title="该命令创建了一个1M大小的文件sun.txt，其中参数解释："></a>该命令创建了一个1M大小的文件sun.txt，其中参数解释：</h4><pre><code>if 代表输入文件。如果不指定if，默认就会从stdin中读取输入。
of 代表输出文件。如果不指定of，默认就会将stdout作为默认输出。
bs 代表字节为单位的块大小。
count 代表被复制的块数。
/dev/zero 是一个字符设备，会不断返回0值字节（\0）。
</code></pre><h4 id="块大小可以使用的计量单位表"><a href="#块大小可以使用的计量单位表" class="headerlink" title="块大小可以使用的计量单位表"></a>块大小可以使用的计量单位表</h4><pre><code>单元大小                   代码
字节（1B）                    c
字节（2B）                    w
块（512B）                    b
千字节（1024B）                k
兆字节（1024KB）            M
吉字节（1024MB）            G                                                               
</code></pre></div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/每天一个Linux命令/">每天一个Linux命令</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 瑾川</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>