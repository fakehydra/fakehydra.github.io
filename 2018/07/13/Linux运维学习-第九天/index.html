<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="author" content="瑾川"><link rel="alternative" href="/atom.xml" title="瑾川" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>Linux运维学习-第九天 - 瑾川</title><link rel="stylesheet" href="/css/main.css"><link rel="stylesheet" href="/js/fancybox/jquery.fancybox.min.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--><script src="/js/jquery-3.1.1.min.js"></script><script src="/js/fancybox/jquery.fancybox.min.js"></script></head><body style="opacity:0"><header class="head"><h1 class="head-title u-fl"><a href="/">瑾川</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a class="head-nav__link" href="/archives">カタログ/（目录）</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"> <time class="post__time" datetime="2018-07-13T08:44:30.000Z">July 13, 2018</time><h1 class="post__title"><a href="/2018/07/13/Linux运维学习-第九天/">Linux运维学习-第九天</a></h1><div class="post__main echo"><h2 id="第九天了"><a href="#第九天了" class="headerlink" title="第九天了~"></a>第九天了~</h2><a id="more"></a>
<h3 id="系统目录结构（续）"><a href="#系统目录结构（续）" class="headerlink" title="系统目录结构（续）"></a>系统目录结构（续）</h3><h2 id="etc-fstab-–让设备开机自启"><a href="#etc-fstab-–让设备开机自启" class="headerlink" title="/etc/fstab  –让设备开机自启"></a>/etc/fstab  –让设备开机自启</h2><pre><code>UUID=281b45af-f975-47ad-89d3-fadaae69ee6e   --要挂载的设备信息
/ --挂载点
ext4 --挂载的文件系统类型  
defaults --默认地挂载参数
1    --0：是否进行备份 
1    --0：是否检查磁盘

 /proc/mounts  可以看见挂载文件详细信息 ；获得文件系统类型
  mount -a 
</code></pre><h2 id="etc-rc-local-–将要操作执行的命令放入该文件，使之开机自动运行"><a href="#etc-rc-local-–将要操作执行的命令放入该文件，使之开机自动运行" class="headerlink" title="/etc/rc.local   –将要操作执行的命令放入该文件，使之开机自动运行"></a>/etc/rc.local   –将要操作执行的命令放入该文件，使之开机自动运行</h2><pre><code>[root@jinc ~]# ll /etc/rc.local 
lrwxrwxrwx. 1 root root 13 Jul  4 15:31 /etc/rc.local -&gt; rc.d/rc.local
[root@jinc ~]# cat /etc/rc.local
#!/bin/sh
#
# This script will be executed *after* all the other init scripts.
# You can put your own initialization stuff in here if you don&apos;t
# want to do the full Sys V style init stuff.

touch /var/lock/subsys/local
[root@jinc ~]# echo &quot;mount /dev/cdrom /mnt&quot; &gt;&gt;/etc/rc.local
[root@jinc ~]# tail -1 /etc/rc.local
mount /dev/cdrom /mnt
</code></pre><h2 id="etc-inittab-–Linux系统中有不同的进入方式；系统的运行级别"><a href="#etc-inittab-–Linux系统中有不同的进入方式；系统的运行级别" class="headerlink" title="/etc/inittab –Linux系统中有不同的进入方式；系统的运行级别"></a>/etc/inittab –Linux系统中有不同的进入方式；系统的运行级别</h2><pre><code>#   0 - halt (Do NOT set initdefault to this) --关机运行级别

#   1 - Single user mode  --单用户运行级别 

#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)  --多用户级别，使不支持Network File System（类似于3级别，没有网络)

#   3 - Full multiuser mode  --正常的一个多用户模式（命令行模式）

#   4 - unused  --未使用

#   5 - X11   --图形化界面（用到图形化界面的场景：安装Oracle软件）

#   6 - reboot (Do NOT set initdefault to this)   --重启运行级别
# 
</code></pre><h2 id="etc-init-d-目录-–主要用于存放服务的启动和关闭脚本"><a href="#etc-init-d-目录-–主要用于存放服务的启动和关闭脚本" class="headerlink" title="/etc/init.d(目录)  –主要用于存放服务的启动和关闭脚本"></a>/etc/init.d(目录)  –主要用于存放服务的启动和关闭脚本</h2><h2 id="sshd-network-iptables"><a href="#sshd-network-iptables" class="headerlink" title="sshd network iptables"></a>sshd network iptables</h2><h2 id="PS-不是所有服务的启动脚本都在此目录中"><a href="#PS-不是所有服务的启动脚本都在此目录中" class="headerlink" title="PS:不是所有服务的启动脚本都在此目录中"></a>PS:不是所有服务的启动脚本都在此目录中</h2><h2 id="补充说明：系统软件的安装方式"><a href="#补充说明：系统软件的安装方式" class="headerlink" title="补充说明：系统软件的安装方式"></a>补充说明：系统软件的安装方式</h2><pre><code>01.rpm 命令安装（启动脚本会放置在/etc/init.d）
   rpm -ivh 你要安装的软件包
       -i install
       -v 显示详细信息
       -h 以人类可读的方式
       说明：无法解决软件依赖关系
 02.yum 安装软件
    利用一个文件进行选择yum 仓库，yum 源文件
 优化：优化yum源
      wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-6.repo
      yum install -y tree
      说明：可以解决依赖关系

 03.编译安装软件（启动脚本不会放置在.etc/init.目录下）
    自定义安装软件（有这个软件按的安装包）
</code></pre><h2 id="etc-profile（加载命令行配置信息文件）"><a href="#etc-profile（加载命令行配置信息文件）" class="headerlink" title="/etc/profile（加载命令行配置信息文件）"></a>/etc/profile（加载命令行配置信息文件）</h2><pre><code>一般加载配置环境变量信息 或者别名配置
[root@jinc ~]# head /etc/profile
 # /etc/profile

 # System wide environment and startup programs, for login setup
 # Functions and aliases go in /etc/bashrc
</code></pre><h2 id="如何配置环境变量："><a href="#如何配置环境变量：" class="headerlink" title="如何配置环境变量："></a>如何配置环境变量：</h2><pre><code>export（让配置修改环境变量全局生效）
export PS1=&quot;XXX&quot;
PATH环境变量 --指定命令所在路径信息
</code></pre><h2 id="etc-bashrc-加载命令行配置信息文件）"><a href="#etc-bashrc-加载命令行配置信息文件）" class="headerlink" title="/etc/bashrc(加载命令行配置信息文件）"></a>/etc/bashrc(加载命令行配置信息文件）</h2><h2 id="bash-profile-bashrc"><a href="#bash-profile-bashrc" class="headerlink" title="./.bash_profile  ~./bashrc"></a>./.bash_profile  ~./bashrc</h2><pre><code>用户家目录下面 ~/.bash_profile ~/.bashrc  家规守则（优先） 
/etc 目录下面  etc/profile  etc/bashrc  国家 法律（全局）{其次}
</code></pre><h2 id="加载生效都可以用source-命令"><a href="#加载生效都可以用source-命令" class="headerlink" title="加载生效都可以用source 命令"></a>加载生效都可以用source 命令</h2><h2 id="man-bash-可以查看所有系统内置命令信息"><a href="#man-bash-可以查看所有系统内置命令信息" class="headerlink" title="man bash  可以查看所有系统内置命令信息"></a>man bash  可以查看所有系统内置命令信息</h2><h2 id="var-目录信息经常发生变化-日志文件"><a href="#var-目录信息经常发生变化-日志文件" class="headerlink" title="/var  目录信息经常发生变化    日志文件"></a>/var  目录信息经常发生变化    日志文件</h2><pre><code>/var/log/messages    --系统运行日志文件
</code></pre><h2 id="说明：日志文件会不断增加，注意对日志文件进行切割处理"><a href="#说明：日志文件会不断增加，注意对日志文件进行切割处理" class="headerlink" title="说明：日志文件会不断增加，注意对日志文件进行切割处理"></a>说明：日志文件会不断增加，注意对日志文件进行切割处理</h2><pre><code>/var/log/secure  --记录用户登陆信息   
有非法人员登陆系统，会利用暴力破解方式登陆，可以查看
</code></pre><h2 id="proc-loadavg"><a href="#proc-loadavg" class="headerlink" title="/proc/loadavg"></a>/proc/loadavg</h2><pre><code>[root@jinc /]# cat /proc/loadavg 
0.00 0.00 0.00 1/162 1869    
一分钟 五分钟  十五分钟        
通过uptime也可以查看负载信息 
</code></pre></div></header><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a class="post__tag__link" href="/tags/学习笔记/">学习笔记</a></li></ul></footer></article><div class="comments" id="lv-container" data-id="city" data-uid="your uid"><script>(function(d, s) {var j, e = d.getElementsByTagName(s)[0];if (typeof LivereTower === 'function') { return; } j = d.createElement(s);j.src = 'https://cdn-city.livere.com/js/embed.dist.js';j.async = true;e.parentNode.insertBefore(j, e);})(document, 'script');</script></div></main><footer class="foot"><div class="foot-copy">&copy; 2016-2018 瑾川</div></footer><script src="/js/scroller.js"></script><script src="/js/main.js"></script></body></html>